{"ast":null,"code":"import Config from './config';\nvar c = new Config();\n\nfunction handleErrors(response) {\n  if (!(response.status === 200 || response.status === 204)) {\n    return response.json().then(function (response) {\n      return Promise.reject({\n        code: response.status,\n        message: response.message\n      });\n    }).catch(function (err) {\n      throw err;\n    });\n  } else {\n    return response.status === 200 ? response.json() : new Promise(function (resolve, reject) {\n      resolve();\n    });\n  }\n}\n\nexport default {\n  /* fetchAll: (page, sizePerPage, sortOrder) => {\n       return fetch(\n           c.serverUrl + '/api/v1/list?page=' + page + '&size=' + sizePerPage + '&sort=name,' + sortOrder)\n           .then(handleErrors);\n   },*/\n  uploadFile: function uploadFile(file, title, details) {\n    var url = 'http://3.16.166.161:8080/api/uploadFile';\n    var formData = new FormData();\n    formData.append('file', file);\n    formData.append('title', title);\n    formData.append('details', details);\n    var config = {\n      headers: {\n        'content-type': 'multipart/form-data'\n      }\n    };\n    return fetch(url, {\n      method: 'POST',\n      body: formData,\n      config: config\n    }).then(handleErrors);\n  }\n};","map":{"version":3,"sources":["/opt/text-recognition/client/src/restClient.js"],"names":["Config","c","handleErrors","response","status","json","then","Promise","reject","code","message","catch","err","resolve","uploadFile","file","title","details","url","formData","FormData","append","config","headers","fetch","method","body"],"mappings":"AAAA,OAAOA,MAAP,MAAmB,UAAnB;AAEA,IAAMC,CAAC,GAAG,IAAID,MAAJ,EAAV;;AAEA,SAASE,YAAT,CAAsBC,QAAtB,EAAgC;AAC5B,MAAI,EAAEA,QAAQ,CAACC,MAAT,KAAoB,GAApB,IAA2BD,QAAQ,CAACC,MAAT,KAAoB,GAAjD,CAAJ,EAA4D;AACxD,WAAOD,QAAQ,CAACE,IAAT,GACFC,IADE,CACG,UAAAH,QAAQ,EAAI;AACd,aAAOI,OAAO,CAACC,MAAR,CAAe;AAACC,QAAAA,IAAI,EAAEN,QAAQ,CAACC,MAAhB;AAAwBM,QAAAA,OAAO,EAAEP,QAAQ,CAACO;AAA1C,OAAf,CAAP;AACH,KAHE,EAIFC,KAJE,CAII,UAAAC,GAAG,EAAI;AACV,YAAMA,GAAN;AACH,KANE,CAAP;AAOH,GARD,MAQO;AACH,WAAOT,QAAQ,CAACC,MAAT,KAAoB,GAApB,GAA0BD,QAAQ,CAACE,IAAT,EAA1B,GAA4C,IAAIE,OAAJ,CAAY,UAAUM,OAAV,EAAmBL,MAAnB,EAA2B;AACtFK,MAAAA,OAAO;AACV,KAFkD,CAAnD;AAGH;AACJ;;AAED,eAAe;AACZ;;;;;AAKCC,EAAAA,UAAU,EAAE,oBAACC,IAAD,EAAOC,KAAP,EAAcC,OAAd,EAA0B;AAClC,QAAMC,GAAG,GAAG,yCAAZ;AACA,QAAMC,QAAQ,GAAG,IAAIC,QAAJ,EAAjB;AACAD,IAAAA,QAAQ,CAACE,MAAT,CAAgB,MAAhB,EAAwBN,IAAxB;AACAI,IAAAA,QAAQ,CAACE,MAAT,CAAgB,OAAhB,EAAyBL,KAAzB;AACAG,IAAAA,QAAQ,CAACE,MAAT,CAAgB,SAAhB,EAA2BJ,OAA3B;AACA,QAAMK,MAAM,GAAG;AACXC,MAAAA,OAAO,EAAE;AACL,wBAAgB;AADX;AADE,KAAf;AAMA,WAAOC,KAAK,CAACN,GAAD,EAAM;AACdO,MAAAA,MAAM,EAAE,MADM;AAEdC,MAAAA,IAAI,EAAEP,QAFQ;AAGdG,MAAAA,MAAM,EAAEA;AAHM,KAAN,CAAL,CAKFhB,IALE,CAKGJ,YALH,CAAP;AAQH;AA1BU,CAAf","sourcesContent":["import Config from './config'\n\nconst c = new Config();\n\nfunction handleErrors(response) {\n    if (!(response.status === 200 || response.status === 204 )) {\n        return response.json()\n            .then(response => {\n                return Promise.reject({code: response.status, message: response.message});\n            })\n            .catch(err => {\n                throw err;\n            });\n    } else {\n        return response.status === 200 ? response.json() : new Promise(function (resolve, reject) {\n            resolve();\n        });\n    }\n}\n\nexport default {\n   /* fetchAll: (page, sizePerPage, sortOrder) => {\n        return fetch(\n            c.serverUrl + '/api/v1/list?page=' + page + '&size=' + sizePerPage + '&sort=name,' + sortOrder)\n            .then(handleErrors);\n    },*/\n    uploadFile: (file, title, details) => {\n        const url = 'http://3.16.166.161:8080/api/uploadFile';\n        const formData = new FormData();\n        formData.append('file', file);\n        formData.append('title', title);\n        formData.append('details', details);\n        const config = {\n            headers: {\n                'content-type': 'multipart/form-data'\n            }\n        };\n\n        return fetch(url, {\n            method: 'POST',\n            body: formData,\n            config: config\n        })\n            .then(handleErrors);\n\n\n    }\n\n}\n"]},"metadata":{},"sourceType":"module"}